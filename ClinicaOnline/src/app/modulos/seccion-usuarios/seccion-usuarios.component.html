<form [formGroup]="form" class="registro-container">
    <nav>
        <button style="background: transparent; border: transparent; position: absolute; height: 100%; z-index: 1000;"  (click)="volver()">
            <img  id="icon" src="assets/signo-de-hospital.png" >
        </button>

        <h2 id="title">Sección usuarios</h2>        

        <div class="botones">
            <button class="btnNav" (click)="mostrarDiv('listado')">Lista de Usuarios</button> 
            <button class="btnNav" (click)="mostrarDiv('registro')">Registro</button>
        </div>  
    </nav>

    <div *ngIf="mostrarListado" class="contenedor">
        <!-- <h1 style="color: #D7E3FC; font-family: 'Monaco'; margin: 3%;">Listado Usuarios</h1> -->
        <div style="display: flex; flex-direction: column; width: 33%; height: 100%; margin-top: 10px; margin-bottom: 10px; text-align:  center;">
            <h3 style="color: #D7E3FC; font-family: 'Monaco'; margin: 3%;">Listado Especialistas</h3>
            <div class="usuario" *ngFor="let e of especialistas">
                <p>{{e.apellido}} </p>
                <p>{{e.nombre}}</p>
                <p>{{e.dni}}</p>
                <img class="foto" [src]="e.foto">
                <button *ngIf="e.tipo == 'especialista' && !e.aprobado" (click)="seleccionar('aprobado', e)" style="background-color: transparent; border: transparent; width: 3%; height: 60%; margin: 3%;">
                    <img src="assets/aceptar.png" style="height: 100%;">
                </button>
                <button *ngIf="e.tipo == 'especialista' && e.aprobado" (click)="seleccionar('rechazado', e)" style="background-color: transparent; border: transparent; width: 3%; height: 60%; margin: 3%;">
                    <img src="assets/rechazar.png" style="height: 140%; bottom: 15%; display: flex; position: relative;">
                </button>
            </div>
        </div>
        <div style="display: flex; flex-direction: column; width: 33%; height: 100%; margin-top: 10px; margin-bottom: 10px; text-align: center;">
            <h3 style="color: #D7E3FC; font-family: 'Monaco'; margin: 3%;">Listado Pacientes</h3>
            <div class="usuario" *ngFor="let p of pacientes" (click)="seleccionarPaciente(p)">
                <p>{{p.apellido}} </p>
                <p>{{p.nombre}}</p>
                <p>{{p.dni}}</p>
                <img class="foto" [src]="p.foto">
            </div>
        </div>

        <div style="display: flex; flex-direction: column; width: 33%; height: 100%; margin-top: 10px; margin-bottom: 10px; text-align: center;">
            <h3 style="color: #D7E3FC; font-family: 'Monaco'; margin: 3%;">Paciente</h3>
            <div class="usuario" style="height: 80%; flex-direction: column;">
                <div class="historial" *ngFor="let h of historial" (click)="diaHistorial = h">
                    <p>{{h.especialidad}} </p>
                    <p>{{h.especialista}}</p>
                    <p>{{h.fechaTurno}}</p>
                </div>
                <div style="height: auto; width: 90%; flex-direction: column; border: 3px solid #64B5F6; margin: 1px;">
                    <p style="font-weight: bold; margin: 3px;">Historia Clínica</p>
                    <div style="display: flex; flex-direction: row;">
                        <p class="dPaciente" style="margin-left: 3px; width: 50%;">Altura: {{this.diaHistorial != null ? this.diaHistorial.altura : ''}}</p>
                        <p class="dPaciente" style="margin-left: 3px; width: 50%;">Peso: {{this.diaHistorial != null ? this.diaHistorial.peso : ''}}</p>
                    </div>
                    <div style="display: flex; flex-direction: row;">
                        <p class="dPaciente" style="margin-left: 3px; width: 50%;">Temperatura: {{this.diaHistorial != null ? this.diaHistorial.temperatura : ''}}</p>
                        <p class="dPaciente" style="margin-left: 3px; width: 50%;">Presión: {{this.diaHistorial != null ? this.diaHistorial.presion : ''}}</p>
                    </div>
                </div>
            </div>
        </div>


    </div>

    <div *ngIf="mostrarRegistro" class="contenedorRegistro">
                <h1 style="color: #D7E3FC; font-family: 'Monaco'; margin: 5%;">Registro</h1>
                <h3 class="texto">Complete con sus datos personales:</h3>
                <div class="contenedor-input row">
                    <div class="col">
                        <div class="col"> 
                            <div class="input-field">
                                <input type="text" required formControlName="nombre" name="name" [(ngModel)]="nombre">
                                <label>Nombre</label>
                            </div>
                            <div class="row">
                                <span class="msjError col" *ngIf="form.controls['nombre'].touched && form.controls['nombre'].hasError('required')">
                                    Campo obligatorio.
                                </span>
                                <span class="msjError col" *ngIf="form.controls['nombre'].touched && form.controls['nombre'].hasError('invalido')">
                                    Nombre invalido.
                                </span>
                            </div>
                        </div> 
                    </div>
                    <div class="col">
                        <div class="col"> 
                            <div class="input-field">
                                <input type="text" required formControlName="apellido" name="surname" [(ngModel)]="apellido">
                                <label>Apellido</label>
                            </div>
                            <div class="row">
                                <span class="msjError col" *ngIf="form.controls['apellido'].touched && form.controls['apellido'].hasError('required')">
                                    Campo obligatorio.
                                </span>
                                <span class="msjError col" *ngIf="form.controls['apellido'].touched && form.controls['apellido'].hasError('invalido')">
                                    Apellido invalido.
                                </span>
                            </div>
                        </div> 
                    </div>
                </div>
        
                <div class="contenedor-input row">
                    <div class="col">
                        <div class="col"> 
                            <div class="input-field">
                                <input type="number" required formControlName="edad" name="age" [(ngModel)]="edad">
                                <label>Edad</label>
                            </div>
                            <div class="row">
                                <span class="msjError col" *ngIf="form.controls['edad'].touched && form.controls['edad'].hasError('required')">
                                    Campo obligatorio.
                                </span>
                                <span class="msjError col" *ngIf="form.controls['edad'].touched && form.controls['edad'].hasError('invalido')">
                                    Edad invalida.
                                </span>
                            </div>
                        </div> 
                    </div>
                    <div class="col">
                        <div class="col"> 
                            <div class="input-field">
                                <input type="number" required formControlName="dni" name="document" [(ngModel)]="dni">
                                <label>DNI</label>
                            </div>
                            <div class="row">
                                <span class="msjError col" *ngIf="form.controls['dni'].touched && form.controls['dni'].hasError('required')">
                                    Campo obligatorio.
                                </span>
                                <span class="msjError col" *ngIf="form.controls['dni'].touched && form.controls['dni'].hasError('invalido')">
                                    DNI invalida.
                                </span>
                            </div>
                        </div> 
                    </div>
                </div>
                
                <div class="contenedor-input row">
                    <div class="col">
                        <div class="col"> 
                            <div class="input-field">
                                <input type="text" required formControlName="correo" name="email" [(ngModel)]="correo" style="width: 95%;">
                                <label>Correo electrónico</label>
                            </div>
                            <div class="row">
                                <span class="msjError col" *ngIf="form.controls['correo'].touched && form.controls['correo'].hasError('required')">
                                    Campo obligatorio.
                                </span>
                                <span class="msjError col" *ngIf="form.controls['correo'].touched && form.controls['correo'].hasError('invalido')">
                                    Correo electrónico invalida.
                                </span>
                            </div>
                        </div> 
                    </div>
                </div>
        
                <div class="contenedor-input row">
                    <div class="col">
                        <div class="col"> 
                            <div class="input-field">
                                <input type="password" required formControlName="clave" name="pass1" [(ngModel)]="clave">
                                <label>Contraseña</label>
                            </div>
                            <div class="row">
                                <span class="msjError col" *ngIf="form.controls['clave'].touched && form.controls['clave'].hasError('required')">
                                    Campo obligatorio.
                                </span>
                                <span class="msjError col" *ngIf="form.controls['clave'].touched && form.controls['clave'].hasError('invalido')">
                                    Contraseña invalida.
                                </span>
                            </div>
                        </div> 
                    </div>
                    <div class="col">
                        <div class="col"> 
                            <div class="input-field">
                                <input type="password" required formControlName="claveRep" name="pass2" [(ngModel)]="claveRep">
                                <label>Repetir la contraseña</label>
                            </div>
                            <div class="row">
                                <span class="msjError col" *ngIf="form.controls['claveRep'].touched && form.controls['claveRep'].hasError('required')">
                                    Campo obligatorio.
                                </span>
                                <span class="msjError col" *ngIf="form.controls['claveRep'].touched && form.controls['claveRep'].hasError('invalido')">
                                    Contraseña invalida.
                                </span>
                            </div>
                        </div> 
                    </div>
                </div>
        
                <div style="flex-direction: row; display: flex;">
                    <div class="file">
                        <input type="file" id="file1" class="fileInput" accept=".png, .jpg, .jpeg" (click)="seleccionarFoto(1)">
                        <!-- <label for="file1" class="labelInputFile">
                            <img class="imgFile" src="assets/subir.png">
                        </label> -->
                    </div>
                </div>
        
                <button (click)="alta()" class="btnEspecialidades">Registrar</button>
        
            </div>
            
            
       
        

    <div class="toast" id="myToast" *ngIf="mostrarToast">{{mensaje}}</div>

</form>
